# ============================================
# エイリアス設定
# ============================================
alias os:config="nvim ~/.dotfiles/aliases.conf"

# シェルスクリプトエイリアス（tools/ ディレクトリ）
alias sh:remove_zone_identifier="bash ${HOME}/.dotfiles/tools/remove_zone_identifier.sh"
alias sh:run_docsify="bash ${HOME}/.dotfiles/scripts/utils/run_docsify.sh"
alias sh:unzip_here="bash ${HOME}/.dotfiles/tools/unzip_here.sh"
alias sh:packtar="bash ${HOME}/.dotfiles/tools/packtar.sh"
alias sh:unzip="bash ${HOME}/.dotfiles/tools/unzip_here.sh"
alias sh:jp_convert="bash ${HOME}/.dotfiles/tools/jp_convert.sh"
alias sh:open_windows_folder="bash ${HOME}/.dotfiles/tools/open_windows_folder.sh"

# 簡潔なエイリアス（tools/ ディレクトリ）
alias packtar="bash ${HOME}/.dotfiles/tools/packtar.sh"              # 現在のディレクトリをtar.gzでパッケージ化
alias unzip:here="bash ${HOME}/.dotfiles/tools/unzip_here.sh"         # 現在のディレクトリ以下の.zipを再帰的に展開
alias zone:remove="bash ${HOME}/.dotfiles/tools/remove_zone_identifier.sh"  # Zone.Identifierファイルを削除
alias win:open="bash ${HOME}/.dotfiles/tools/open_windows_folder.sh"  # WSLからWindowsのexplorer.exeでフォルダを開く

# VIM
alias vim:terminal='vim -c "topleft vertical terminal"'

# コマンドエイリアス
# fd 通过 zinit 管理，命令名就是 fd
# 如果 zinit 的 fd 不存在，但系统有 fdfind，则创建别名
if ! command -v fd >/dev/null 2>&1 && command -v fdfind >/dev/null 2>&1; then
    alias fd="fdfind"
fi
# alias cat="batcat"
# bat 通过 zinit 管理，命令名就是 bat
# 如果 zinit 的 bat 不存在，但系统有 batcat，则创建别名
if ! command -v bat >/dev/null 2>&1 && command -v batcat >/dev/null 2>&1; then
    alias bat="batcat"
fi

# AI 工具エイリアス
# Codex 和 Gemini 通过 npm 全局安装，如果已安装则创建别名
if command -v codex >/dev/null 2>&1; then
    alias cx="codex"  # 简短别名
fi
if command -v gemini >/dev/null 2>&1; then
    alias gm="gemini"  # 简短别名
fi

# ファイルマネージャーエイリアス
# 注: sf, disk:usage, disk:info は各プラグインファイルで定義されています
alias repo:size="bash ${HOME}/.dotfiles/tools/repo_size.sh"  # 显示仓库真实大小（排除 .gitignore 和 .git 等文件）

# 模块管理エイリアス
alias modules="bash ${HOME}/.dotfiles/modules/manage"  # 模块管理工具 - 列出所有模块及其安装状态

# 翻訳エイリアス
alias rjz="trans ja:zh"    # 日本語→中国語
alias rzj="trans zh:ja"    # 中国語→日本語
alias rje="trans ja:en"    # 日本語→英語
alias rej="trans en:ja"    # 英語→日本語
alias rze="trans zh:en"    # 中国語→英語

# 日本語変換エイリアス（平假名、片假名、ローマ字）
alias jp="bash ${HOME}/.dotfiles/tools/jp_convert.sh"

# Git ツールエイリアス（tools/ ディレクトリ）
alias easygit="bash ${HOME}/.dotfiles/tools/easygit.sh"
alias git:init="easygit init"  # 後方互換性のため

# Rime ツールエイリアス（tools/ ディレクトリ）
alias rime:export:sbzr="bash ${HOME}/.dotfiles/scripts/tools/export_sbzr_dict.sh"
alias sbzr="bash ${HOME}/.dotfiles/tools/sbzr.sh"  # Rime 配置初始化/同步并更新日语词库

# アプリケーションツールエイリアス（tools/ ディレクトリ）
alias vbox="bash ${HOME}/.dotfiles/tools/VirtualBox.sh"              # VirtualBox 仮想マシン管理
alias wine="bash ${HOME}/.dotfiles/tools/run_wine.sh"                # Wine 実行ツール
alias winetricks="bash ${HOME}/.dotfiles/tools/winetricks.sh"        # Winetricks ツール

# 字体安装エイリアス（函数在 local.zsh 中定义，这里不创建别名避免冲突）
# install:font 函数在 ~/.dotfiles/plugins/local/local.zsh 中定义

# ============================================
# Zellij エイリアス
# ============================================
alias ze="zellij"
alias zee="bash ${HOME}/.dotfiles/plugins/zellij/zee" # 以当前目录名作为 session 名
alias ze:a="zellij attach"
alias ze:list="zellij list-sessions"
alias ze:new="zellij new-session"
alias ze:kill="zellij kill-session"
alias ze:kill-all="zellij kill-all-sessions"
alias ze:run="zellij run"
alias ze:edit="zellij edit"
alias ze:save="zellij -s"

# ============================================
# 实用工具脚本エイリアス
# ============================================

# 开发工具（scripts/dev/）
alias git:clean="bash ${HOME}/.dotfiles/scripts/dev/git_clean.sh"  # Git 清理未跟踪文件（支持 --dry-run 和 --force）
alias dotfiles:push="bash ${HOME}/.dotfiles/scripts/dev/push_dotfiles.sh"  # 推送 dotfiles 到 GitHub（自动包含 IP、设备名、时间戳）

# 系统管理工具（scripts/system/）
alias backup:config="bash ${HOME}/.dotfiles/scripts/system/backup_config.sh"  # 备份配置文件（带时间戳）
alias disk:usage="bash ${HOME}/.dotfiles/scripts/system/disk_usage.sh"  # 查看目录磁盘使用情况
alias find:large="bash ${HOME}/.dotfiles/scripts/system/find_large_files.sh"  # 查找大文件（默认 >100M）
alias port:check="bash ${HOME}/.dotfiles/scripts/system/port_check.sh"  # 检查端口是否被占用

# 安装工具脚本 alias（scripts/install/）
# 注意：install:font 函数在 ~/.dotfiles/plugins/local/local.zsh 中定义，这里不创建 alias 避免冲突
alias install:sbzr="bash ${HOME}/.dotfiles/scripts/install/install_sbzr.sh"  # 安装声笔自然配置（从 GitHub 克隆）
alias install:nvim="bash ${HOME}/.dotfiles/scripts/install/install_nvim.sh"  # 安装 Neovim（从 GitHub Releases 下载最新版本）
alias install:nvm="bash ${HOME}/.dotfiles/scripts/install/install_nvm.sh"  # 安装 nvm (Node Version Manager)
alias install:treesitter="bash ${HOME}/.dotfiles/scripts/install/install_treesitter.sh"  # 安装 tree-sitter-cli（使用 cargo，解决 GLIBC 问题）
alias install:fzf="bash ${HOME}/.dotfiles/scripts/install/install_fzf.sh"  # 安装 fzf (Fuzzy Finder)（从 GitHub 仓库安装最新版本）
alias install:codex="bash ${HOME}/.dotfiles/scripts/install/install_codex.sh"  # 安装 Codex CLI（OpenAI 编码代理工具）
alias install:gemini="bash ${HOME}/.dotfiles/scripts/install/install_gemini.sh"  # 安装 Gemini CLI（Google AI 终端代理工具）
alias install:zellij="bash ${HOME}/.dotfiles/scripts/install/install_zellij.sh"  # 安装 zellij（终端多路复用器，类似 tmux）
alias install:opencode="bash ${HOME}/.dotfiles/scripts/install/install_opencode.sh"  # 安装 opencode

# PATH 管理
alias clean:path="clean_path"  # 清理 PATH 中的重复条目

# 通用工具（scripts/utils/）
alias extract="bash ${HOME}/.dotfiles/scripts/utils/extract.sh"  # 通用解压脚本（自动识别格式）
alias url:encode="bash ${HOME}/.dotfiles/scripts/utils/url_encode.sh"  # URL 编码
alias url:decode="bash ${HOME}/.dotfiles/scripts/utils/url_decode.sh"  # URL 解码
alias random:string="bash ${HOME}/.dotfiles/scripts/utils/random_string.sh"  # 生成随机字符串（默认 32 字符）

# ============================================
# Dotfiles 管理工具エイリアス（dotlink/ ディレクトリ）
# ============================================

# dotlink - 符号链接管理工具
alias dotlink="bash ${HOME}/.dotfiles/dotlink/dotlink"  # 创建符号链接（执行所有操作）
alias dotlink:link="bash ${HOME}/.dotfiles/dotlink/dotlink link"  # 仅创建符号链接
alias dotlink:backups="bash ${HOME}/.dotfiles/dotlink/dotlink backups"  # 仅执行备份操作
alias dotlink:backups:path="bash ${HOME}/.dotfiles/dotlink/dotlink backups_by_path"  # 按路径备份
alias dot:add="bash ${HOME}/.dotfiles/dotlink/add-config"  # 添加配置文件到 dotlink 管理

# dotsync - Dotfiles 同步工具
alias dotsync="bash ${HOME}/.dotfiles/dotlink/dotsync"  # Dotfiles 同步工具
alias dotsync:backup="bash ${HOME}/.dotfiles/dotlink/dotsync backup"  # 备份配置（导出 Cinnamon、GNOME 终端等）
alias dotsync:restore="bash ${HOME}/.dotfiles/dotlink/dotsync restore"  # 恢复配置（导入配置、安装字体等）
alias dotsync:pull="bash ${HOME}/.dotfiles/dotlink/dotsync pull"  # 拉取并重置到远程最新版本
alias dotsync:push="bash ${HOME}/.dotfiles/dotlink/dotsync push"  # 推送配置到远程（自动生成提交信息）
alias dotsync:log="bash ${HOME}/.dotfiles/dotlink/dotsync log"  # 查看提交日志

# WORKS
[[ -f $HOME/.dotfiles/private/aliases.conf ]] \
  && source $HOME/.dotfiles/private/aliases.conf
